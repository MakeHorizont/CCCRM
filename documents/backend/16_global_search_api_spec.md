
# Спецификация API: Глобальный Поиск (Global Search)

## Общие сведения
Этот модуль обеспечивает единую точку входа для полнотекстового поиска по всем сущностям системы.
Принцип: **"Найти иглу в стоге сена за 100мс"**.

**Base URL:** `/search`

---

## 1. Поиск (Search)

### 1.1 Глобальный поиск
**Эндпоинт:** `GET /`

**Query Parameters:**
*   `q`: string (поисковый запрос, мин. 2 символа)
*   `limit`: number (макс. кол-во результатов, default: 10)
*   `types`: string[] (фильтр по типам: `contact,order,product,task,wiki`, default: all)

**Response (200 OK):**
```json
[
  {
    "id": "ord-1",
    "type": "order",
    "title": "Заказ #1001 - Иван Петров",
    "subtitle": "В обработке | 5000 ₽",
    "link": "/orders/ord-1",
    "relevance": 0.95
  },
  {
    "id": "tmp-001",
    "type": "product",
    "title": "Темпе Классический",
    "subtitle": "Склад: 100 шт | Холодильник №1",
    "link": "/warehouse/tmp-001",
    "relevance": 0.8
  }
]
```

**Логика Бэкенда:**
1.  Принимает запрос.
2.  Выполняет параллельные запросы к индексам (или таблицам) разных доменов (Postgres Full Text Search или ElasticSearch).
3.  Агрегирует результаты.
4.  Сортирует по релевантности.
5.  Возвращает унифицированный DTO.
