# План Развития CCCRM

Этот документ отслеживает крупные задачи по развитию функционала системы.

## Текущий этап разработки (Версия 1.4.0)

### Готово
-   **[✓] Модуль "Устав":**
    -   **Описание:** Создан новый раздел "Устав", содержащий идеологическую основу коллектива.
    -   **Реализация:**
        -   Добавлена страница с текстом "Устава CCCRM", описывающего принципы коллективной собственности, демократического централизма и борьбы с разделением труда.
        -   Добавлена страница "Этапы Модернизации", описывающая юридический путь развития от "Красного ИП" к полноценному кооперативу.
-   **[✓] Рефакторинг Модальных Окон в Страницы:**
    -   **Описание:** Перенос основного функционала редактирования и просмотра из модальных окон в полноценные страницы для модулей "Склад", "Хранилища", "Оборудование", "Производство" и "Стратегия".
-   **[✓] Документирование Плана Развития:** Создание структуры для отслеживания задач и изменений (`documents/`).
-   **[✓] Редактирование в "Обсуждениях":** Реализация полного цикла управления темой (редактирование, архивация, удаление).
-   **[✓] Подтверждение при Сохранении:** Внедрение модальных окон для подтверждения сохранения изменений во всех ключевых модулях для предотвращения случайных действий.
-   **[✓] Автосохранение и Восстановление:** Реализация механизма автосохранения для сложных форм (Производство, Технологии, Склад) с возможностью восстановления данных после сбоя.
-   **[✓] Финансирование Социальных Инициатив:** Реализована возможность для CEO финансировать социальные инициативы из средств Коллективного Фонда с автоматическим созданием транзакции и обновлением статуса.
-   **[✓] Автоматический расчет чистой прибыли:**
    -   **Описание:** В модуле "Финансовая сводка" реализован автоматический расчет чистой прибыли за выбранный месяц.
    -   **Реализация:**
        -   На странице "Финансовая сводка" теперь отображается единая сводка, включающая общий доход, сумму прямых расходов (из транзакций) и косвенных расходов (аренда, амортизация и т.д.).
        -   На основе этих данных рассчитывается и отображается **Чистая Прибыль** и **Чистая Рентабельность**.
        -   Исправлена логика закрытия месяца: теперь при расчете прибыли для отчислений в Коллективный Фонд корректно учитываются как прямые, так и косвенные расходы.
-   **[✓] Полноценное редактирование задач в Kanban:**
    - **Описание:** Замена заглушки на полноценную страницу просмотра и редактирования задачи с вкладками "Детали", "Чек-лист" и "Диалектика".

### В Работе
-   **[~] Модуль "Ротация Задач":**
    -   **Описание:** Создание нового модуля для планирования и учета регулярной смены деятельности членов коллектива (производственная, офисная, логистическая работа) с целью борьбы с разделением труда.
    -   **Прогресс:** Создана страница модуля с визуализацией графика ротаций в виде таймлайна. Реализовано добавление, редактирование и удаление записей о ротации.
-   **[~] Улучшение Качества Кода (Постоянная задача):**
    -   **Описание:** Постоянный рефакторинг и декомпозиция крупных компонентов (>200-300 строк) на более мелкие, переиспользуемые модули.

### В Планах (Следующий приоритет)
-   **[ ] Версионирование:**
    -   **Описание:** Реализация механизма версионирования для ключевых сущностей (Заказы, Тех. карты, Товары). Это позволит отслеживать историю изменений каждого объекта.
-   **[ ] Управление Правами Доступа:** Разработка гранулярной системы прав доступа для разных ролей пользователей.

### Низкий Приоритет / Внешние Интеграции

-   **[ ] Модуль "Документы":** Развитие отложено, так как предполагается интеграция с внешними сервисами документооборота.
-   **[ ] Модуль "Почта":** Развитие отложено, так как предполагается интеграция с внешним почтовым сервером (например, Roundcube).
-   **[ ] Модуль "Фин. Учет":** Развитие отложено. Предполагается тесная интеграция с 1С или аналогичными внешними бухгалтерскими системами.
-   **[ ] Улучшенный Дашборд:** Добавление новых виджетов и графиков для более глубокого анализа состояния предприятия. Будет реализовано после готовности основного функционала.