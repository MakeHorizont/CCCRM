# Руководство Разработчика: Mock API Сервис

Для обеспечения быстрой и независимой frontend-разработки, в проекте используется имитационный (mock) API-сервис. Он полностью эмулирует поведение реального бэкенда.

## Принципы Работы

1.  **Асинхронность:** Все функции `apiService` возвращают `Promise` и имитируют сетевую задержку с помощью `setTimeout`. Это гарантирует, что frontend-код, работающий с mock-сервисом, будет безболезненно переключен на реальный API.

2.  **Разделение по Доменам:** Логика работы с различными сущностями (контакты, заказы, задачи и т.д.) разделена на отдельные файлы-сервисы в директории `services/api/`. Главный файл `services/apiService.ts` агрегирует все эти сервисы в один объект для удобного импорта в компонентах.

3.  **Хранение Данных в Памяти:** Все данные хранятся в виде массивов в файлах директории `services/mockData/`. Это означает, что **при каждой перезагрузке страницы состояние данных сбрасывается к исходному**. Это удобно для тестирования и отладки.

4.  **Имитация Логики:** Сервис не просто возвращает данные, но и имитирует бизнес-логику:
    *   Фильтрация и сортировка данных на "сервере".
    *   Создание связанных сущностей (например, создание Производственного Задания из Заказа).
    *   Проверка условий (например, проверка наличия сырья на складе).
    *   Обновление связанных полей (например, `updatedAt`).

## Как Использовать

Во всех компонентах, где требуется взаимодействие с данными, импортируйте единый `apiService`:

```tsx
import { apiService } from '../../services/apiService';

// ...

const fetchContacts = async () => {
  try {
    const contacts = await apiService.getContacts({ viewMode: 'active' });
    // ...
  } catch (error) {
    // ...
  }
};
```

## Добавление Новых Методов

При добавлении нового функционала:
1.  **Определите Типы:** Создайте или обновите TypeScript типы в директории `/types`.
2.  **Создайте Mock Данные:** Добавьте начальные данные в новый файл в `/services/mockData/`.
3.  **Создайте Доменный Сервис:** Создайте новый файл в `/services/api/` (например, `newModuleService.ts`). Реализуйте в нем асинхронные функции для CRUD-операций с вашими данными.
4.  **Интегрируйте в `apiService.ts`:** Добавьте ваш новый сервис в главный агрегирующий объект `apiService`.