# Архитектура Системы CCCRM

Архитектура проекта построена на современных, проверенных технологиях с упором на модульность, расширяемость и четкое разделение ответственности.

## Технологический Стек

*   **Frontend Framework:** [React 19](https://react.dev/) (с использованием хуков).
*   **Язык:** [TypeScript](https://www.typescriptlang.org/) для строгой типизации и повышения надежности кода.
*   **Стилизация:** [Tailwind CSS](https://tailwindcss.com/) для быстрой и консистентной разработки UI. Используется кастомизируемая система тем (светлая/темная) через CSS переменные.
*   **Маршрутизация:** [React Router](https://reactrouter.com/) (используется `HashRouter` для совместимости с простым хостингом статических файлов).
*   **Управление Состоянием:** React Context API для глобальных состояний (аутентификация, режим отображения, тема). Локальные состояния управляются хуком `useState`.
*   **Drag & Drop:** [@dnd-kit](https://dndkit.com/) для реализации функционала перетаскивания (Kanban, настройка меню).
*   **Работа с Markdown:**
    *   **Рендеринг:** [Marked.js](https://marked.js.org/) и [DOMPurify](https://github.com/cure53/DOMPurify) для безопасного отображения Markdown в HTML.
    *   **Редактирование:** [TOAST UI Editor](https://ui.toast.com/tui-editor) для WYSIWYG и Markdown-редактирования в Базе Знаний и Обсуждениях.

## Структура Проекта

```
/
├── components/         # Основные UI компоненты, сгруппированные по модулям
│   ├── Auth/
│   ├── Contacts/
│   ├── Dashboard/
│   ├── Kanban/
│   ├── UI/             # Переиспользуемые базовые компоненты (Button, Input, Card...)
│   └── ...             # Другие модули
├── constants/          # Глобальные константы (пути, элементы меню, карты цветов)
├── contexts/           # React Contexts для глобального состояния
├── hooks/              # Пользовательские хуки (например, useAuth)
├── services/           # Логика взаимодействия с "бэкендом"
│   ├── api/            # Разделенные по доменам сервисы
│   └── mockData/       # Имитация данных
├── types/              # Глобальные определения типов TypeScript
├── utils/              # Вспомогательные функции (например, генераторы ID)
├── App.tsx             # Корневой компонент приложения, маршрутизация
├── index.tsx           # Точка входа для рендеринга React
└── index.html          # Основной HTML-файл
```

## Бэкенд и Работа с Данными

На данном этапе разработки используется **имитационный (mock) API-сервис**, реализованный в директории `services/`.

*   **`apiService.ts`:** Единая точка доступа к API, которая агрегирует методы из доменных сервисов (например, `contactService.ts`, `kanbanService.ts`).
*   **Доменные Сервисы:** Логика для каждого модуля (например, `services/api/orderService.ts`) инкапсулирована в своем файле. Это упрощает поддержку и тестирование.
*   **Хранилище Данных:** Данные хранятся в памяти в виде массивов в файлах директории `services/mockData/`. При перезагрузке страницы состояние сбрасывается к исходному, что удобно для разработки.
*   **Асинхронность:** Все вызовы к API имитируют сетевую задержку с помощью `setTimeout`, возвращая `Promise`. Это делает frontend-код готовым к интеграции с реальным REST или GraphQL API без значительных изменений.